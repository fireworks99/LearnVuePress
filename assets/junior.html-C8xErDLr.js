import{_ as a,r as e,c as p,d as t,b as s,a as l,o as i}from"./app-8o123FPq.js";const c="/LearnVuePress/assets/1-Vex7SYzs.png",o="/LearnVuePress/assets/2-DF8u6u-e.png",r="/LearnVuePress/assets/3-eKXS9Zt6.png",u="/LearnVuePress/assets/4-f9Y1DZxB.png",d="/LearnVuePress/assets/5-B7-om1tU.png",k="/LearnVuePress/assets/6-Ddli2WuY.png",v="/LearnVuePress/assets/7-9dOzX76X.png",m="/LearnVuePress/assets/8-4CVubGaG.png",b="/LearnVuePress/assets/9-y-rnUhTC.png",h="/LearnVuePress/assets/10-BpriY7t0.png",g="/LearnVuePress/assets/11-CBdLiFj0.png",y="/LearnVuePress/assets/12-bGhQ6HkX.png",_="/LearnVuePress/assets/13-CbVyGSOi.png",f={},P=s("h1",{id:"vuepress入门",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#vuepress入门"},[s("span",null,"VuePress入门")])],-1),V=l(`<h2 id="_1-环境准备" tabindex="-1"><a class="header-anchor" href="#_1-环境准备"><span>1.环境准备</span></a></h2><ol><li>需要 <code>Node.js v18.16.0+</code>，这里选择了 <code>Node.js v18.20.4(Long Term Support)</code>。<code>nvm install 18.20.4</code>，下载的时候如果报错可以将代理设为全局试试。</li><li><code>nvm use 18.20.4</code></li><li>包管理器可选npm、yarn、pnpm，官网举例用的是pnpm，这里便用它。npm install -g pnpm</li></ol><h2 id="_2-创建项目" tabindex="-1"><a class="header-anchor" href="#_2-创建项目"><span>2.创建项目</span></a></h2><p>通过脚手架创建项目（也可以一步步创建，<a href="https://vuepress.github.io/zh/guide/getting-started.html#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE" target="_blank" rel="noopener noreferrer">参考官网</a>）：</p><p><code>pnpm create vuepress project-name</code></p><p>这里会有一些选项，其中vite跟webpack之间我选了vite，构建过程中会询问是否添加github工作流(workflows)，这里选择生成这个文件（文件里有个branches要跟项目实际分支对应上，默认为main，我的项目是master就需要在这里改成master）。</p><h2 id="_3-运行项目" tabindex="-1"><a class="header-anchor" href="#_3-运行项目"><span>3.运行项目</span></a></h2><p><code>pnpm docs:dev</code></p><p>如果有警告说版本依赖不对，比如<code>vuepress</code> 是2.0.0-rc.14的，那么他需要的 <code>@vuepress/bundler-vite</code> 也是这一版本号，但是我通过脚手架安装的是2.0.0-rc.7的，那么就安装一遍那个高版本的 <code>@vuepress/bundler-vite</code> （一定要注意当前shell脚本所在目录，我第一次就搞错目录了，又删了重新执行的）</p><h2 id="_4-修改配置" tabindex="-1"><a class="header-anchor" href="#_4-修改配置"><span>4.修改配置</span></a></h2><p>VuePress 站点的基本配置文件是 <code>.vuepress/config.js</code></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defaultTheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@vuepress/theme-default&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineUserConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuepress/cli&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> viteBundler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@vuepress/bundler-vite&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineUserConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&#39;zh-CN&#39;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;VuePress&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;VuePress教程&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">&quot;/LearnVuePress/&quot;</span><span class="token punctuation">,</span>       <span class="token comment">//Github 仓库名</span></span>
<span class="line"></span>
<span class="line">  <span class="token literal-property property">head</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">rel</span><span class="token operator">:</span> <span class="token string">&#39;icon&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token string">&#39;/img/favicon.png&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">  <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token function">defaultTheme</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">logo</span><span class="token operator">:</span> <span class="token string">&#39;/img/logo.gif&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">locales</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;/&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&#39;zh-CN&#39;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    <span class="token literal-property property">navbar</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;首页&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;友链&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">          <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;我的博客&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">&quot;https://fireworks99.github.io/&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;我的Github&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/fireworks99&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">]</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    <span class="token literal-property property">sidebar</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token string">&quot;/post/junior&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token string">&quot;/post/extension&quot;</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">  <span class="token literal-property property">bundler</span><span class="token operator">:</span> <span class="token function">viteBundler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-生成token" tabindex="-1"><a class="header-anchor" href="#_5-生成token"><span>5.生成Token</span></a></h2><ol><li><p>点击头像，点击<code>settings</code></p><p><img src="`+c+'" alt="settings"></p></li><li><p>在左侧最底部点击<code>Developer settings</code></p><p><img src="'+o+'" alt="Developer settings"></p></li><li><p>找到经典(classic)的token</p><p><img src="'+r+'" alt="token"></p></li><li><p>点击生成新token</p><p><img src="'+u+'" alt="Generate new token"></p></li><li><p>填写名称（与项目相关即可）、有效期（怕麻烦选无期限）、作用范围（repo即可）</p><p><img src="'+d+'" alt="设置token信息"></p></li><li><p>点击<code>Generate Token</code>，就会生成一个新的token，这里它只会出现一次，一旦刷新该网页就不见了，所以最好把它复制到你的备忘录备份一下，而且待会也是需要用到这个 Token 的。</p></li></ol><p>结果如下：</p><p><img src="'+k+'" alt="result"></p><h2 id="_6-设置secrets" tabindex="-1"><a class="header-anchor" href="#_6-设置secrets"><span>6.设置Secrets</span></a></h2><ol><li><p>到项目仓库中，点击<code>settings =&gt; Secrets and variables =&gt; Actions =&gt; New repository secret</code></p><p><img src="'+v+'" alt="New repository secret"></p></li><li><p>填写secret的信息，其中第二个框填写上一步生成的token</p><p><img src="'+m+'" alt="secret信息"></p></li><li><p>点击<code>add secret</code>即可</p></li></ol><p>结果如下：</p><p><img src="'+b+`" alt="result"></p><h2 id="_7-提交代码" tabindex="-1"><a class="header-anchor" href="#_7-提交代码"><span>7.提交代码</span></a></h2><p>提交本地代码到github仓库，这里注意分支名字问题，github默认为main分支，本地默认为master分支，要处理。</p><p>对应的工作流里的branches要写对。</p><p>首次提交不会触发CI，第二次提交会触发CI。</p><blockquote><p>补充：VuePress脚手架创建的CI工作流可直接拿来用，除了branches要注意外，其他的都不用改。</p></blockquote><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"></span>
<span class="line"><span class="token key atrule">name</span><span class="token punctuation">:</span> 部署文档</span>
<span class="line"></span>
<span class="line"><span class="token key atrule">on</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">push</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">branches</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token comment"># 确保这是你正在使用的分支名称</span></span>
<span class="line">      <span class="token punctuation">-</span> master</span>
<span class="line"></span>
<span class="line"><span class="token key atrule">permissions</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">contents</span><span class="token punctuation">:</span> write</span>
<span class="line"></span>
<span class="line"><span class="token key atrule">jobs</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">deploy-gh-pages</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest</span>
<span class="line">    <span class="token key atrule">steps</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3</span>
<span class="line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span></span>
<span class="line">          <span class="token comment"># 如果你文档需要 Git 子模块，取消注释下一行</span></span>
<span class="line">          <span class="token comment"># submodules: true</span></span>
<span class="line"></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安装 pnpm</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> pnpm/action<span class="token punctuation">-</span>setup@v2</span>
<span class="line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">run_install</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">          <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">8</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 设置 Node.js</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3</span>
<span class="line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token number">20</span></span>
<span class="line">          <span class="token key atrule">cache</span><span class="token punctuation">:</span> pnpm</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 构建文档</span>
<span class="line">        <span class="token key atrule">env</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">NODE_OPTIONS</span><span class="token punctuation">:</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>max_old_space_size=8192</span>
<span class="line">        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token punctuation">-</span></span>
<span class="line">          pnpm run docs<span class="token punctuation">:</span>build</span>
<span class="line">          <span class="token punctuation">&gt;</span> docs/.vuepress/dist/.nojekyll</span>
<span class="line"></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 部署文档</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> JamesIves/github<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>deploy<span class="token punctuation">-</span>action@v4</span>
<span class="line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token comment"># 这是文档部署到的分支名称</span></span>
<span class="line">          <span class="token key atrule">branch</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages</span>
<span class="line">          <span class="token key atrule">folder</span><span class="token punctuation">:</span> docs/.vuepress/dist</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-配置github-pages" tabindex="-1"><a class="header-anchor" href="#_8-配置github-pages"><span>8.配置Github Pages</span></a></h2><p>CI完成后会将文档部署到<code>gh-pages</code>分支</p><p><img src="`+h+'" alt="gh-pages"></p><p>等一会儿，待 gh-pages 分支创建后，来到项目<code>Settings =&gt; Pages</code>，<code>Source</code>选择<code>Deploy from a branch</code>，<code>Branch</code>选择<code>gh-pages</code>，点击Save</p><p><img src="'+g+'" alt="Deploy from a branch"></p><p>此时来到Actions这里发现又开始运行一个工作流</p><p><img src="'+y+'" alt="Actions"></p><p>稍等片刻执行完毕，看到 GitHub Pages 站点启动成功，就可以访问网站了！</p><p><img src="'+_+'" alt="完成"></p>',35);function w(x,q){const n=e("TOC");return i(),p("div",null,[P,t(n,{"include-level":[2,3]}),V])}const C=a(f,[["render",w],["__file","junior.html.vue"]]),B=JSON.parse('{"path":"/post/junior.html","title":"入门","lang":"zh-CN","frontmatter":{"title":"入门","lang":"zh-CN","author":"fireworks99","date":"2024-08-09"},"headers":[{"level":2,"title":"1.环境准备","slug":"_1-环境准备","link":"#_1-环境准备","children":[]},{"level":2,"title":"2.创建项目","slug":"_2-创建项目","link":"#_2-创建项目","children":[]},{"level":2,"title":"3.运行项目","slug":"_3-运行项目","link":"#_3-运行项目","children":[]},{"level":2,"title":"4.修改配置","slug":"_4-修改配置","link":"#_4-修改配置","children":[]},{"level":2,"title":"5.生成Token","slug":"_5-生成token","link":"#_5-生成token","children":[]},{"level":2,"title":"6.设置Secrets","slug":"_6-设置secrets","link":"#_6-设置secrets","children":[]},{"level":2,"title":"7.提交代码","slug":"_7-提交代码","link":"#_7-提交代码","children":[]},{"level":2,"title":"8.配置Github Pages","slug":"_8-配置github-pages","link":"#_8-配置github-pages","children":[]}],"git":{"updatedTime":1723433414000,"contributors":[{"name":"fireworks99","email":"46671672+fireworks99@users.noreply.github.com","commits":6}]},"filePathRelative":"post/junior.md"}');export{C as comp,B as data};
